---
import BaseLayout from "../layouts/BaseLayout.astro";
import ContactForm from "../components/ContactForm.astro";

const allowedServices = new Set([
  "design",
  "new-build",
  "makeover",
  "hard-landscaping",
  "lawns-planting",
  "maintenance",
  "not-sure",
]);

const requestedService = Astro.url.searchParams.get("service") ?? undefined;
const defaultService =
  requestedService && allowedServices.has(requestedService)
    ? requestedService
    : undefined;
---

<BaseLayout
  title="Contact | TaylorMade Landscapes, Nelson"
  description="Request a quote or site visit with Giles Taylor for landscape design, construction, and maintenance across Nelson & Tasman."
>
  <div
    class="mx-auto grid max-w-6xl gap-10 px-4 py-12 lg:grid-cols-[1.2fr_0.8fr]"
  >
    <div class="space-y-6">
      <section class="space-y-4">
        <h1
          class="text-4xl font-bold"
          data-aos="fade-up"
          data-aos-duration="600"
          data-aos-easing="ease-out"
        >
          Contact
        </h1>
        <p
          class="text-lg text-base-content/80"
          data-aos="fade-up"
          data-aos-duration="600"
          data-aos-delay="120"
          data-aos-easing="ease-out"
        >
          Tell us about your site, timeline, and wishlist. Giles will reply
          within two working days to arrange a visit or follow-up call.
        </p>
      </section>
      <ContactForm defaultService={defaultService} />
    </div>

    <aside class="space-y-6">
      <div
        class="rounded-3xl border border-base-300 bg-base-100 p-6 shadow-sm"
        data-aos="fade"
        data-aos-duration="500"
        data-aos-easing="ease-out"
      >
        <h2 class="text-2xl font-semibold">Talk to us directly</h2>
        <p class="mt-3 text-base-content/80">
          Prefer a phone call or email? Reach out anytime.
        </p>
        <ul class="mt-4 space-y-2">
          <li>
            <span class="font-semibold">Phone:</span>
            <a class="link link-hover" href="tel:+64272276489">027 227 6489</a>
          </li>
          <li>
            <span class="font-semibold">Email:</span>
            <a
              class="link link-hover"
              href="mailto:hello@taylormadelandscapes.nz"
              >hello@taylormadelandscapes.nz</a
            >
          </li>
        </ul>
        <p class="mt-4 text-sm text-base-content/70">
          Weekdays 8am - 5pm. Messages welcomed anytime.
        </p>
      </div>
      <div
        class="space-y-4 rounded-3xl bg-base-200 p-6"
        data-aos="fade"
        data-aos-duration="500"
        data-aos-delay="120"
        data-aos-easing="ease-out"
      >
        <figure class="overflow-hidden rounded-2xl">
          <picture>
            <source srcset="/images/garden4.webp" type="image/webp" />
            <img
              src="/images/garden4.jpg"
              alt="Tiered backyard overlooking Nelson with stone steps and hedging"
              class="h-48 w-full object-cover"
              loading="lazy"
              decoding="async"
            />
          </picture>
        </figure>
        <div>
          <h3 class="text-xl font-semibold">Service area</h3>
          <p class="mt-2 text-base-content/80">
            Nelson, Stoke, Richmond, Mapua, Atawhai, Brightwater, Hira, and most
            of Tasman.
          </p>
        </div>
      </div>
      <div
        class="rounded-3xl bg-primary/10 p-6"
        data-aos="fade"
        data-aos-duration="500"
        data-aos-delay="220"
        data-aos-easing="ease-out"
      >
        <h3 class="text-xl font-semibold">Follow the work</h3>
        <p class="mt-2 text-base-content/80">
          Project updates and extra photos live on Facebook.
        </p>
        <a
          class="btn btn-primary mt-4"
          href="https://www.facebook.com/TaylormadeLandscapesGilesTaylor"
          target="_blank"
          rel="noreferrer">Facebook</a
        >
      </div>
    </aside>
  </div>
</BaseLayout>
